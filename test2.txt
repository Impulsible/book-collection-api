# =============================================================================
# WEEK 03 PROJECT - COMPLETE TEST (TWO COLLECTIONS)
# =============================================================================

# Health Check
curl.exe http://localhost:3000/health

# BOOKS COLLECTION
curl.exe http://localhost:3000/api/books
curl.exe -X POST http://localhost:3000/api/books -H "Content-Type: application/json" -d "@book1.json"
curl.exe -X POST http://localhost:3000/api/books -H "Content-Type: application/json" -d "@book2.json"
curl.exe http://localhost:3000/api/books

# AUTHORS COLLECTION  
curl.exe http://localhost:3000/api/authors
curl.exe -X POST http://localhost:3000/api/authors -H "Content-Type: application/json" -d "@author1.json"
curl.exe -X POST http://localhost:3000/api/authors -H "Content-Type: application/json" -d "@author2.json"
curl.exe http://localhost:3000/api/authors

# Data Validation Tests (Both Collections)
curl.exe -X POST http://localhost:3000/api/books -H "Content-Type: application/json" -d "{\"title\":\"Test Book\"}"
curl.exe -X POST http://localhost:3000/api/authors -H "Content-Type: application/json" -d "{\"name\":\"Test Author\"}"

# Error Handling Tests
curl.exe http://localhost:3000/api/books/507f1f77bcf86cd799439011
curl.exe http://localhost:3000/api/authors/507f1f77bcf86cd799439011

# Live Deployment
curl.exe https://book-collection-api-0vgp.onrender.com/health
curl.exe https://book-collection-api-0vgp.onrender.com/api/books
curl.exe https://book-collection-api-0vgp.onrender.com/api/authors

# Cleanup
Remove-Item "Book1.json","Book2.json","author1.json","author2.json"," -ErrorAction SilentlyContinue